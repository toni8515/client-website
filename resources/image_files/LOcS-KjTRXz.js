if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("PolarisDeleteCommentModal",["fbt","IGCoreDialog","PolarisCommentActions","PolarisGenericStrings","PolarisLogger","gkx","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){var i=d("react");function a(a){var b=a.analyticsContext,e=a.commentId,f=a.onClose,g=a.postId,j=d("react-redux-wwwig").useDispatch();a=function(a){c("gkx")("2641")||d("PolarisLogger").logAction_DEPRECATED("commentDelete",{source:b}),j(d("PolarisCommentActions").deleteComment(g,e)),f(a)};return i.jsxs(d("IGCoreDialog").IGCoreDialog,{onModalClose:f,children:[i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:a,children:h._(/*FBT_CALL*/"Delete Comment"/*FBT_CALL*/)}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:f,children:d("PolarisGenericStrings").CANCEL_TEXT})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIgWellbeingRestrictManageCommentFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){var h={falco:!0,pigeon:!1};a=function(){function a(){}a.log=function(a){var b=a.action,c=a.actorIgUserid,d=a.commentId,e=a.commentThreadId,f=a.parentMediaId,g=a.step;this.$1(function(){return{action:b,actor_ig_userid:parseInt(c),comment_id:d?parseInt(d):void 0,entrypoint:"comment",parent_comment_id:e===d?void 0:parseInt(e),parent_media_id:parseInt(f),step:g}})};a.$1=function(a){d("PolarisFalcoLogger").FalcoLogger.log("ig_wellbeing_restrict_manage_comment",a(),{},h)};return a}();g["default"]=a}),98);
__d("PolarisApproveCommentDialog",["fbt","IGCoreDialog","PolarisCommentActions","PolarisGenericStrings","PolarisIgWellbeingRestrictManageCommentFalcoEvent","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j=h._(/*FBT_CALL*/"Approve"/*FBT_CALL*/),k=h._(/*FBT_CALL*/"Approve This Comment?"/*FBT_CALL*/),l=function(a){return h._(/*FBT_CALL*/"Only you and {username} can see this comment. If you approve it, it'll be visible to everyone."/*FBT_CALL*/,[h._param("username",a)])};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props,b=a.commentId,e=a.commentOwnerId,f=a.commentThreadId;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:e,commentId:b,commentThreadId:f,parentMediaId:a,step:"approval_page_approve_this_comment"});d.props.onApproveClick();d.props.onClose()},d.$2=function(){var a=d.props,b=a.commentId,e=a.commentOwnerId,f=a.commentThreadId;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:e,commentId:b,commentThreadId:f,parentMediaId:a,step:"approval_page_cancel"});d.props.onClose()},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.render=function(){var a=this.props.commentOwnerUsername;return i.jsxs(d("IGCoreDialog").IGCoreDialog,{body:l(a),onModalClose:this.props.onClose,title:k,children:[i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$1,children:j}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:this.$2,children:d("PolarisGenericStrings").CANCEL_TEXT})]})};return b}(i.Component);function a(a,b){return{onApproveClick:function(){a(d("PolarisCommentActions").approveRestrictedComment(b.commentId))}}}e=d("react-redux-wwwig").connect(null,a)(b);g.APPROVE_COMMENT_CTA=j;g.ApproveCommentDialog=e}),98);
__d("PolarisPostComment",["cx","fbt","FastLink","PolarisApproveCommentDialog","PolarisCommentActions","PolarisCommentLikeListsActions","PolarisCommentOptionsDialog","PolarisCommentTranslationPrompt","PolarisConfig","PolarisDoubleTappable","PolarisEngagementLogger","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreConstants","PolarisIGCoreMoreHorizontalPanoOutlineIcon","PolarisIGCoreSVGIconButton","PolarisIGCoreText","PolarisIGCoreVerifiedBadge","PolarisIgWellbeingRestrictManageCommentFalcoEvent","PolarisLikeButton","PolarisLinkBuilder","PolarisNavigationActions","PolarisPendingCommentActions","PolarisPostCaptionTranslationPrompt","PolarisPostVariants","PolarisTimestamp","PolarisTruncatedText","PolarisUA","PolarisUserAvatarWithStories","PolarisUserHoverCard","PolarisUserText","PolarisViewpointReact","Polarisnullthrows","PolarispostSelectors","PolarisuserSelectors","joinClasses","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){var j=d("react"),k=750,l=i._(/*FBT_CALL*/"Comment Options"/*FBT_CALL*/),m=i._(/*FBT_CALL*/"Delete Comment"/*FBT_CALL*/),n=i._(/*FBT_CALL*/"Reply"/*FBT_CALL*/),o=i._(/*FBT_CALL*/"Restricted Account"/*FBT_CALL*/),p=i._(/*FBT_CALL*/"See Comment"/*FBT_CALL*/),q=i._(/*FBT_CALL*/"Delete"/*FBT_CALL*/),r=function(a){var b=a.parentProps,e=b.commentOwnerId,f=b.commentOwnerUsername,g=b.isAuthorVerified,h=b.isCaption,i=b.isRestrictedPending,k=b.postOwnerIsUnpublished;b=b.showRichComment;a=i&&!a.parentState.showRestrictedContent;var l=h?"h2":"h3";if(a)return j.jsx(c("PolarisIGCoreBox"),{marginBottom:1,children:j.jsx(c("PolarisIGCoreText").Body,{color:"ig-tertiary-text",weight:"semibold",children:o})});else if(!h||!k)return j.jsxs(l,{className:"_a9zc"+(i===!0?" _a9zd":""),children:[j.jsx(c("PolarisIGCoreBox"),{marginEnd:1,children:j.jsx(c("PolarisUserHoverCard"),{display:"inline",triggerAnalyticsContext:"post_commenter",userId:e,children:j.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"ig-secondary-button",href:d("PolarisLinkBuilder").buildUserLink(c("Polarisnullthrows")(f)),children:c("Polarisnullthrows")(f)})})}),b&&g&&j.jsx(c("PolarisIGCoreBox"),{marginEnd:1,children:j.jsx(c("PolarisIGCoreVerifiedBadge"),{size:"small"})})]});else return null},s=function(a){a=a.parentProps;var b=a.captionCreatedAt,e=a.commentThreadId,f=a.disableTimestampNav,g=a.id,h=a.isCaption,i=a.isEdited,k=a.postShortcode;a=a.postedAt;h=j.jsx(c("PolarisTimestamp"),{className:"_a9ze _a9zf",value:h&&i&&b!=null?b:a});if(k&&g){i=e&&e!==g?d("PolarisLinkBuilder").buildReplyPermalink(k,e,g,d("PolarisUA").isMobile()):d("PolarisLinkBuilder").buildCommentPermalink(k,g,d("PolarisUA").isMobile());b=f===!0?function(a){return a.preventDefault()}:void 0;h=j.jsx(c("FastLink"),{className:"_a9zg",href:i,onClick:b,children:h})}return h};f=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={showApproveCommentDialog:!1,showCommentOptionsDialog:!1,showRestrictedContent:!1},e.$3=function(){e.setState({showCommentOptionsDialog:!0})},e.$4=function(){if(!d("PolarisUA").isMobile()||!e.props.showRichComment||e.props.isCaption)return;e.$1=setTimeout(e.$3,k)},e.$2=function(){clearTimeout(e.$1)},e.$5=function(){e.setState({showCommentOptionsDialog:!1})},e.$6=function(){e.setState({showCommentOptionsDialog:!1}),e.props.onDeleteComment()},e.$7=function(){var a=e.props,b=a.id;a=a.onDeleteCommentClick;a&&a(c("Polarisnullthrows")(b))},e.$8=function(a){var b=e.props,c=b.onLikeComment;b=b.onUnlikeComment;a?c():b()},e.$9=function(){var a=e.props,b=a.isRestrictedPending,c=a.likedByViewer;a=a.onLikeComment;!c&&!b&&a()},e.$10=function(){var a=e.props,b=a.code,f=a.fetchCommentLikes,g=a.id,h=a.loggedIn,i=a.onLikeCountClick,j=a.onLoggedOutIntentClick;a=a.onLoggedOutIntentClickLoginModal;if(h)i&&(f(),i(c("Polarisnullthrows")(g)));else{h="post_comment_like_count";d("PolarisUA").isDesktop()?a(d("PolarisLinkBuilder").buildMediaLink(c("Polarisnullthrows")(b)),h):j(h)}},e.$11=function(a){var b=e.props,f=b.analyticsContext,g=b.commentOwnerId,h=b.commentThreadId,i=b.id,j=b.isRestrictedPending,k=b.mediaType,l=b.postId,m=b.postOwnerId;b=b.viewerId;switch(a.state){case"entered":if(i!=null&&b!=null){d("PolarisEngagementLogger").logCommentImpression({commentId:i,commentAuthorId:g,commentThreadId:h,containerModule:f,mediaId:l,mediaAuthorId:m,mediaType:k});j&&c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"impression",actorIgUserid:g,commentId:i,commentThreadId:h,parentMediaId:l,step:"pending_comment"});return}}},e.$12=function(){var a=e.props,b=a.code,f=a.loggedIn,g=a.onLoggedOutIntentClick,h=a.onLoggedOutIntentClickLoginModal;a=a.onReplyClick;if(f)a();else{f="post_comment_reply";d("PolarisUA").isDesktop()?h(d("PolarisLinkBuilder").buildMediaLink(c("Polarisnullthrows")(b)),f):g(f)}},e.$13=function(){var a=e.props,b=a.commentOwnerId,d=a.commentThreadId,f=a.id;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:f,commentThreadId:d,parentMediaId:a,step:"pending_comment_see_hidden"});e.setState({showRestrictedContent:!0})},e.$14=function(){var a=e.props,b=a.commentOwnerId,d=a.commentThreadId,f=a.id;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:f,commentThreadId:d,parentMediaId:a,step:"pending_comment_approve"});e.setState({showApproveCommentDialog:!0})},e.$15=function(){e.setState({showApproveCommentDialog:!1})},e.$16=function(){var a=e.props,b=a.commentOwnerId,d=a.commentThreadId,f=a.id;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:f,commentThreadId:d,parentMediaId:a,step:e.state.showRestrictedContent?"pending_comment_delete":"pending_comment_delete_hidden"});e.$7()},e.$17=function(){var a=e.props,b=a.code,f=a.id,g=a.likeCount;a=a.loggedIn;if(!g)return null;var h=g.toLocaleString(),k=i._(/*FBT_CALL*/"{like count} like"/*FBT_CALL*/,[i._param("like count",h)]);h=i._(/*FBT_CALL*/"{like count} likes"/*FBT_CALL*/,[i._param("like count",h)]);k=g===1?k:h;return g>0&&(d("PolarisUA").isDesktop()||!a?j.jsx("button",{className:"_a9ze",onClick:e.$10,children:j.jsx(c("PolarisIGCoreText"),{color:"ig-secondary-text",size:"footnote",weight:"semibold",zeroMargin:!0,children:k})}):j.jsx(c("FastLink"),{className:"_a9ze",href:"/p/"+c("Polarisnullthrows")(b)+"/c/"+c("Polarisnullthrows")(f)+"/liked_by/",children:k}))},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentWillUnmount=function(){this.$2()};e.render=function(){var a=this,b=this.props,e=b.className,f=b.commentOwnerAvatar,g=b.commentOwnerId,h=b.commentOwnerUsername,k=b.commentThreadId,o=b.commentingDisabledForViewer,t=b.customPaddingStyle,u=b.hideUserAvatar,v=b.id,w=b.isCaption,x=b.isEdited,y=b.isPermalinkedComment,z=b.isRestrictedPending,A=b.likedByViewer,B=b.postId,C=b.postOwnerId,D=b.reducedAvatarMargin,E=b.showCommentOptionsInline,F=b.showRemoveIcon,G=b.showRichComment,H=b.translation,I=b.variant;b=b.viewerId;var J=this.props.text.toString();(H==null?void 0:H.showTranslatedText)===!0&&H.translatedText!=null&&(J=H.translatedText);var K=!w&&b&&(b===g||C===b),L=K&&F&&!G,M=!w&&!!b&&!L&&!z;H=d("PolarisConfig").isNetzDGEligible()&&y;var N=H||G&&!d("PolarisUA").isMobile()&&!w&&b!=null,O=I===d("PolarisPostVariants").VARIANTS.feed?c("PolarisTruncatedText"):c("PolarisUserText"),P=!!w||!M&&!K,Q=z&&!this.state.showRestrictedContent,R=z&&this.state.showRestrictedContent,S=j.jsx("div",{className:E===!0?"_a9ze":"",children:j.jsx("div",{className:(E!==!0?"_a9zh":"")+(E===!0?" _a9zi":""),children:j.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:this.$3,children:j.jsx(c("PolarisIGCoreBox"),{alignItems:"center",height:24,justifyContent:"center",width:24,children:j.jsx(c("PolarisIGCoreMoreHorizontalPanoOutlineIcon"),{alt:l,color:"ig-secondary-text"})})})})});return j.jsx(d("PolarisViewpointReact").Viewpoint,{action:this.$11,id:J.replace(" ","-"),children:function(b){return j.jsxs(d("PolarisDoubleTappable").DoubleTappable,{onDoubleClick:a.$9,role:"button",children:[j.jsx("li",{className:c("joinClasses")((G?"_a9zj":"")+(t==="compact"?" _a9zk":"")+" _a9zl",e),onMouseDown:a.$4,onMouseUp:a.$2,onTouchEnd:a.$2,onTouchMove:a.$2,onTouchStart:a.$4,ref:b,role:"menuitem",children:j.jsxs("div",{className:"_a9zm",children:[j.jsxs("div",{className:(P?"_a9zn":"")+" _a9zo",children:[G&&!u&&j.jsx(c("PolarisUserHoverCard"),{display:"block",triggerAnalyticsContext:"post_commenter_avatar",userId:g,children:j.jsx(c("PolarisUserAvatarWithStories"),{className:"_a9zp"+(D===!0?" _a9zq":"")+(z===!0?" _a9zd":""),isLink:!0,profilePictureUrl:f,size:c("PolarisIGCoreConstants").AVATAR_SIZES.small,storyEntrypoint:"post_comment",username:h})}),j.jsxs("div",{className:"_a9zr",children:[j.jsx(r,{parentProps:a.props,parentState:a.state}),!Q&&j.jsx("div",{className:"_a9zs"+(z===!0?" _a9zd":""),children:j.jsx(O,{display:"inline",size:"body",value:J})}),G&&j.jsx(c("PolarisIGCoreBox"),{marginBottom:1,marginTop:t==="compact"?2:4,children:j.jsxs(c("PolarisIGCoreText").Footnote,{color:"ig-secondary-text",children:[w&&x&&j.jsxs(j.Fragment,{children:[i._(/*FBT_CALL*/"Edited"/*FBT_CALL*/),"\xa0\xb7\xa0"]}),j.jsx(s,{parentProps:a.props}),w&&j.jsx(c("PolarisIGCoreBox"),{display:"inlineBlock",children:j.jsx(c("PolarisPostCaptionTranslationPrompt"),{postId:B})}),!w&&!z&&j.jsxs(j.Fragment,{children:[a.$17(),o!==!0&&j.jsx("button",{className:"_a9ze",onClick:a.$12,children:j.jsx(c("PolarisIGCoreText"),{color:"ig-secondary-text",size:"footnote",weight:"semibold",zeroMargin:!0,children:n})}),v&&j.jsx(c("PolarisIGCoreBox"),{display:"inlineBlock",marginEnd:2,children:j.jsx(c("PolarisCommentTranslationPrompt"),{commentId:v})}),N&&E===!0&&S]}),Q&&j.jsx("button",{className:"_a9ze",onClick:a.$13,children:j.jsx(c("PolarisIGCoreText"),{color:"ig-secondary-text",size:"footnote",weight:"semibold",zeroMargin:!0,children:p})}),R&&j.jsx("button",{className:"_a9ze",onClick:a.$14,children:j.jsx(c("PolarisIGCoreText"),{color:"ig-secondary-text",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisApproveCommentDialog").APPROVE_COMMENT_CTA})}),z&&j.jsx("button",{className:"_a9ze",onClick:a.$16,children:j.jsx(c("PolarisIGCoreText"),{color:"ig-secondary-text",size:"footnote",weight:"semibold",zeroMargin:!0,children:q})})]})})]})]}),L&&j.jsx("button",{className:"_a9zt",onClick:a.$7,title:m,children:j.jsx(c("PolarisIGCoreText"),{color:"ig-tertiary-text",size:"footnote",weight:"semibold",zeroMargin:!0,children:m})}),N&&!E&&S,M&&j.jsx(c("PolarisLikeButton"),{className:"_a9zu",isLiked:!!A,large:!1,onChange:a.$8})]})}),a.state.showCommentOptionsDialog&&v&&j.jsx(c("PolarisCommentOptionsDialog"),{canDeleteComment:!!K,commentId:v,commentOwnerAvatar:f,commentOwnerId:g,commentOwnerUsername:h,mediaOwnerId:C,onClose:a.$5,onDelete:a.$6}),a.state.showApproveCommentDialog&&v&&j.jsx(d("PolarisApproveCommentDialog").ApproveCommentDialog,{commentId:v,commentOwnerId:g,commentOwnerUsername:h,commentThreadId:k,onClose:a.$15,postId:B})]})}})};return b}(j.PureComponent);f.defaultProps={showRichComment:!1};function a(a,b){var e=b.commentOwnerId,f=b.postId,g=b.postOwnerId;e=d("PolarisuserSelectors").getUserById(a,e);f=d("PolarispostSelectors").getPostOrNullById(a,f);b=b.id;b==null&&(b=f==null?void 0:f.captionCommentId);return{commentOwnerAvatar:c("Polarisnullthrows")(e.profilePictureUrl),commentOwnerId:c("Polarisnullthrows")(e.id),commentOwnerUsername:c("Polarisnullthrows")(e.username),postOwnerIsUnpublished:d("PolarisuserSelectors").getUserById(a,g).isUnpublished,postShortcode:f&&f.code||null,viewerId:a.users.viewerId,translation:b?a.comments.translationById.get(b):null}}function b(a,b){var e={commentAuthorId:b.commentOwnerId,commentId:b.id,containerModule:b.analyticsContext,mediaAuthorId:b.postOwnerId,mediaId:b.id,mediaType:b.mediaType};return{fetchCommentLikes:function(){return a(d("PolarisCommentLikeListsActions").requestCommentLikes(c("Polarisnullthrows")(b.id)))},onDeleteComment:function(){return a(d("PolarisCommentActions").deleteComment(b.postId,b.id||""))},onLikeComment:function(b){return a(d("PolarisCommentActions").likeComment(babelHelpers["extends"]({},e,{userId:b||""})))},onLoggedOutIntentClick:function(b){a(d("PolarisNavigationActions").openLoggedOutIntentDialog(b))},onLoggedOutIntentClickLoginModal:function(b,c,e){var f=d("PolarisUA").isDesktop()||d("PolarisConfig").isNetzDGEligible()?"feature_wall":"content_wall";a(d("PolarisNavigationActions").openLoginModal(f,b,c,e,!0,b))},onReplyClick:function(e){return a(d("PolarisPendingCommentActions").changePendingComment(b.postId,"@"+(e||"")+" ",c("Polarisnullthrows")(b.commentThreadId),b.commentOwnerId,e))},onUnlikeComment:function(b){return a(d("PolarisCommentActions").unlikeComment(babelHelpers["extends"]({},e,{userId:b||""})))}}}function e(a,b,c){return babelHelpers["extends"]({},a,b,c,{onLikeComment:function(){return b.onLikeComment(a.viewerId)},onReplyClick:function(){return b.onReplyClick(a.commentOwnerUsername)},onUnlikeComment:function(){return b.onUnlikeComment(a.viewerId)}})}h=d("react-redux-wwwig").connect(a,b,e)(f);g["default"]=h}),98);
__d("PolarisThreadedCommentSelectors",["PolarisPaginationUtils","PolariscreateSelectorWithArg","Polarisnullthrows","immutable-v4-rc-9"],(function(a,b,c,d,e,f,g){function h(a){return!a.deleted&&!a.didReportAsSpam}a=c("PolariscreateSelectorWithArg")(function(a){return a.posts.byId},function(a){return a.comments.byId},function(a){return a.threadedComments.parentByPostId},function(a,b,e){return function(f){var g=e.get(f);f=a.get(f);if(!g||!f)return d("immutable-v4-rc-9").List();var i=g.commentIds;g=d("PolarisPaginationUtils").getVisibleCount(g.pagination);f=f.hasRankedComments?0:i.count()-g;return i.map(function(a){return c("Polarisnullthrows")(b.get(a))}).slice(f,f+g).filter(function(a){return h(a)})}});b=c("PolariscreateSelectorWithArg")(function(a){return a.comments.byId},function(a){return a.threadedComments.childByParentId},function(a,b){return function(e){e=c("Polarisnullthrows")(b.get(e));var f=e.commentIds;e=e.pagination;f=f.map(function(b){return c("Polarisnullthrows")(a.get(b))});e=f.count()-d("PolarisPaginationUtils").getVisibleCount(e);var g=f.slice(e,f.count()).filter(function(a){return h(a)});f=f.slice(0,e).filter(function(a){return h(a)});e=f.map(function(a){return a.id});return{visibleChildComments:g,remainingCachedShowableChildCommentIds:e}}});e=c("PolariscreateSelectorWithArg")(function(a){return a.comments.byId},function(a){return a.threadedComments.childByParentId},function(a,b){return function(a){a=c("Polarisnullthrows")(b.get(a));return a.count||0}});f=function(a,b){return!!((a=a.threadedComments.initialCommentsLoading)==null?void 0:a.get(b))};g.selectVisibleParentCommentsForPostId=a;g.selectChildCommentsForParentIdSplitByVisibility=b;g.getTotalChildCommentCountForParentId=e;g.getThreadedCommentsLoading=f}),98);
__d("PolarisCommentThread",["cx","fbt","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreSpinner","PolarisInteractionsLogger","PolarisPaginationUtils","PolarisPostComment","PolarisPostVariants","PolarisQEHelper","PolarisThreadedCommentActions","PolarisThreadedCommentSelectors","PolariscommentReducer","Polarisnullthrows","qex","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){var j=d("react"),k=function(a){var b=a.childComment,e=a.disableTimestampNav;a=a.parentProps;var f=a.analyticsContext,g=a.code,h=a.commentingDisabledForViewer,i=a.customPaddingStyle,k=a.hideUserAvatar,l=a.loggedIn,m=a.onDeleteCommentClick,n=a.onLikeCountClick,o=a.onLikeModalClose,p=a.parentComment,q=a.postId,r=a.postOwnerId,s=a.reducedAvatarMargin,t=a.showCommentOptionsInline;a=a.showRemoveIcon;return j.jsx(c("PolarisPostComment"),{analyticsContext:f,className:"_a9ye"+(i==="compact"?" _a9yf":""),code:g,commentingDisabledForViewer:h,commentOwnerId:b.userId,commentThreadId:p.id,customPaddingStyle:i,disableTimestampNav:e,hideUserAvatar:!!k,id:b.id,isAuthorVerified:b.isAuthorVerified,isRestrictedPending:b.isRestrictedPending,likeCount:b.likeCount,likedByViewer:b.likedByViewer,loggedIn:l,onDeleteCommentClick:m,onLikeCountClick:n,onLikeModalClose:o,postedAt:b.postedAt,postId:q,postOwnerId:r,reducedAvatarMargin:s,showCommentOptionsInline:t,showRemoveIcon:a,showRichComment:!0,text:b.text,variant:d("PolarisPostVariants").VARIANTS.flexible},b.id)};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.state={hasPermalinkedReplyBeenHidden:!1},c.$3=function(a){var b=c.props,e=b.analyticsContext,f=b.childCommentsCacheCanShowMoreWithoutFetch,g=b.childCommentsIsFetching,h=b.hideReplies,i=b.loadChildComments,j=b.loadChildCommentsV2,k=b.onHidePermalinkReply,l=b.parentComment,m=l.id;l=l.userId;var n=b.permalinkedReply,o=b.postId,p=b.postOwnerId;b=b.showReplies;if(g)return;else a?(h(m),d("PolarisInteractionsLogger").logInteractionAction({eventName:"instagram_child_comments_collapse",commentAuthorId:l,commentId:m,containerModule:e,mediaAuthorId:p,mediaId:o}),n!=null&&(k!=null&&k(),c.setState({hasPermalinkedReplyBeenHidden:!0}))):f?b(m):d("PolarisQEHelper").postUsesNativeEndpoint()?j(o,m):i(m)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidUpdate=function(a,b){(a.parentComment.id!==this.props.parentComment.id||a.permalinkedReplyId!==this.props.permalinkedReplyId)&&this.setState({hasPermalinkedReplyBeenHidden:!1})};e.$1=function(){var a=this.props,b=a.childCommentsCacheCanShowMoreWithoutFetch,c=a.childCommentsCanFetchMorePagination,d=a.childCommentsHasNextPage,e=a.permalinkedReply;a=a.remainingCachedShowableChildCommentIds;return e!=null&&d===!0&&b===!0&&c!==!0&&a.count()===1&&a.get(0)===e.id};e.$2=function(a){var b=this.props.childCommentsHasNextPage;return b!==!0||a&&this.$1()};e.$4=function(a,b){var d=this,e=this.props,f=e.childCommentsIsFetching,g=e.customPaddingStyle,h=e.replyPagerNodeRef;e=e.totalChildCommentCount;var k=this.$2(b),l=b?1:0;l=a+l;e=e-l;k&&!f?l=i._(/*FBT_CALL*/"Hide replies"/*FBT_CALL*/):e<=0?l=i._(/*FBT_CALL*/"View replies"/*FBT_CALL*/):l=i._(/*FBT_CALL*/"View replies ({hidden replies})"/*FBT_CALL*/,[i._param("hidden replies",e)]);return j.jsx("li",{className:"_a9yg",ref:h,children:j.jsxs(c("PolarisIGCoreBox"),{direction:"row",marginBottom:a>0&&g!=="compact"?4:0,marginTop:b?2:0,children:[j.jsxs(c("PolarisIGCoreButton"),{borderless:!0,onClick:function(){return d.$3(k)},children:[j.jsx("div",{className:"_a9yh"}),j.jsx("span",{className:"_a9yi",children:l})]}),f&&j.jsx("div",{className:"_a9yj",children:j.jsx(c("PolarisIGCoreSpinner"),{size:"small"})})]})})};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.code,g=b.commentingDisabledForViewer,h=b.customIndentationPadding,i=b.customPaddingStyle,l=b.hideUserAvatar,m=b.innerRef,n=b.isPermalinkedComment,o=b.loggedIn,p=b.onDeleteCommentClick,q=b.onLikeCountClick,r=b.onLikeModalClose,s=b.parentComment,t=b.permalinkedReply,u=b.permalinkedReplyAnimating,v=b.permalinkedReplyId,w=b.permalinkedReplyNodeRef,x=b.postId,y=b.postOwnerId,z=b.reducedAvatarMargin,A=b.showCommentOptionsInline,B=b.showRemoveIcon,C=b.totalChildCommentCount;b=b.visibleChildComments;var D=this.state.hasPermalinkedReplyBeenHidden,E=null;t&&!(D&&b.count()===0)&&(E=j.jsx("div",{className:"_a9yk"+(u===!0&&!D?" _a9yl":""),ref:w,children:j.jsx(k,{childComment:t,disableTimestampNav:!0,parentProps:this.props})}));u=b.map(function(b,d){return E&&c("Polarisnullthrows")(t).id===b.id?null:j.jsx(k,{childComment:b,parentProps:a.props},d)}).filter(function(a){return a!=null});D=this.$4(u.count(),E!=null);w=h!=null?{margin:"12px 0 0 "+h+"px",width:"calc(100% - "+h+"px)"}:void 0;return j.jsxs("ul",{className:"_a9ym"+(i==="compact"?" _a9yn":""),ref:m,children:[j.jsx(c("PolarisPostComment"),{analyticsContext:e,code:f,commentingDisabledForViewer:g,commentOwnerId:s.userId,commentThreadId:s.id,customPaddingStyle:i,disableTimestampNav:n===!0&&v==null,hideUserAvatar:!!l,id:s.id,isAuthorVerified:s.isAuthorVerified,isPermalinkedComment:n,isRestrictedPending:s.isRestrictedPending,likeCount:s.likeCount,likedByViewer:s.likedByViewer,loggedIn:o,onDeleteCommentClick:p,onLikeCountClick:q,onLikeModalClose:r,postedAt:s.postedAt,postId:x,postOwnerId:y,reducedAvatarMargin:z,showCommentOptionsInline:A,showRemoveIcon:B,showRichComment:!0,text:s.text,variant:d("PolarisPostVariants").VARIANTS.flexible}),C!==0&&j.jsx("li",{children:j.jsxs("ul",{className:"_a9yo",style:w,children:[E,D,u]})})]})};return b}(j.Component);function a(a,b){var c=b.parentComment;b=b.permalinkedReplyId;var e=d("PolarisThreadedCommentSelectors").selectChildCommentsForParentIdSplitByVisibility(a,c.id),f=e.remainingCachedShowableChildCommentIds;e=e.visibleChildComments;var g=d("PolarisThreadedCommentSelectors").getTotalChildCommentCountForParentId(a,c.id);c=a.threadedComments.childByParentId.get(c.id,d("PolariscommentReducer").EMPTY_POST_COMMENTS_STATE);c=c.pagination;var h=null;b!=null&&b!==""&&(h=a.comments.byId.get(b));return{childCommentsCacheCanShowMoreWithoutFetch:d("PolarisPaginationUtils").getVisibleCount(c)<d("PolarisPaginationUtils").getLoadedCount(c),childCommentsCanFetchMorePagination:d("PolarisPaginationUtils").canFetchMorePagination(c),childCommentsHasNextPage:d("PolarisPaginationUtils").hasNextPage(c),childCommentsIsFetching:d("PolarisPaginationUtils").isFetching(c),permalinkedReply:h,remainingCachedShowableChildCommentIds:f,totalChildCommentCount:g||0,visibleChildComments:e}}e={hideReplies:d("PolarisThreadedCommentActions").hideChildComments,loadChildComments:d("PolarisThreadedCommentActions").requestNextChildCommentPage,loadChildCommentsV2:d("PolarisThreadedCommentActions").requestNextChildCommentPageV2,showReplies:c("qex")._("1897")===!0?d("PolarisThreadedCommentActions").showChildCommentsV2:d("PolarisThreadedCommentActions").showChildComments};f=d("react-redux-wwwig").connect(a,e)(b);g["default"]=f}),98);
__d("PolarisNoCommentsPlaceholder",["fbt","PolarisIGCoreBox","PolarisIGCoreText","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");function a(a){a=h._(/*FBT_CALL*/"No comments yet."/*FBT_CALL*/);var b=h._(/*FBT_CALL*/"Start the conversation."/*FBT_CALL*/);return i.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",height:"100%",justifyContent:"center",children:[i.jsx(c("PolarisIGCoreBox"),{marginBottom:2,children:i.jsx(c("PolarisIGCoreText").Headline2,{weight:"semibold",children:a})}),i.jsx(c("PolarisIGCoreBox"),{marginTop:2,children:i.jsx(c("PolarisIGCoreText").Body,{weight:"light",children:b})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGCoreCircleAddPanoOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){var h=d("react");function a(a){return h.jsxs(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),h.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"7.001",x2:"17.001",y1:"12.005",y2:"12.005"}),h.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"12.001",x2:"12.001",y1:"7.005",y2:"17.005"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisThreadedCommentsLoadMoreButton",["fbt","PolarisIGCoreBox","PolarisIGCoreCircleAddPanoOutlineIcon","PolarisIGCoreSVGIconButton","PolarisIGCoreSpinner","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j=h._(/*FBT_CALL*/"Load more comments"/*FBT_CALL*/);function a(a){var b=function(b){var c=a.handleLoadMoreCommentsClick,e=a.loggedIn,f=a.onLoggedOutIntentClickLoginModal,g=a.url;b.preventDefault();!e&&d("PolarisUA").isDesktop()?f(g,"post_comment_view_all"):c(g)};return i.jsxs(c("PolarisIGCoreBox"),{justifyContent:"center",marginBottom:a.marginBottom,marginTop:a.marginTop,minHeight:40,position:"relative",children:[!a.commentsIsFetching&&i.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:function(a){return b(a)},children:i.jsx(c("PolarisIGCoreCircleAddPanoOutlineIcon"),{alt:j})}),a.commentsIsFetching&&i.jsx(c("PolarisIGCoreSpinner"),{position:"absolute",size:"medium"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisThreadedComments",["cx","PolarisBatchDOM","PolarisCommentThread","PolarisConfig","PolarisGenericVirtualFeed","PolarisIGCoreBox","PolarisIGCoreSpinner","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisNavigationActions","PolarisNoCommentsPlaceholder","PolarisPageTimings","PolarisPaginationUtils","PolarisPendingCommentState","PolarisPostComment","PolarisPostVariants","PolarisQEHelper","PolarisSizeCache","PolarisThreadedCommentActions","PolarisThreadedCommentSelectors","PolarisThreadedCommentsLoadMoreButton","PolarisUA","PolariscommentReducer","Polarisnullthrows","PolarispostModalHelpers","PolarisuserSelectors","gkx","qex","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j=12,k=1,l=6,m=1.5;function n(a,b){var c=b.getBoundingClientRect().top;c=c-b.scrollTop;b=a.getBoundingClientRect().top;return b-c}var o=function(a){var b=a.innerRef,d=a.isPermalinkedComment,e=a.onHidePermalinkReply,f=a.parentComment,g=a.parentProps,h=a.parentState,j=a.permalinkedReplyId,k=a.permalinkedReplyNodeRef;a=a.replyPagerNodeRef;var l=g.analyticsContext,m=g.code,n=g.commentingDisabledForViewer,o=g.customIndentationPadding,p=g.customPaddingStyle,q=g.handleDeleteCommentClick,r=g.hideUserAvatar,s=g.id,t=g.isDeletingComments,u=g.loggedIn,v=g.onLikeCountClick,w=g.onLikeModalClose,x=g.ownerId,y=g.reducedAvatarMargin;g=g.showCommentOptionsInline;h=h.commentPermalinkAnimEnabled;return i.jsx(c("PolarisCommentThread"),{analyticsContext:l,code:m,commentingDisabledForViewer:n,customIndentationPadding:o,customPaddingStyle:p,hideUserAvatar:r,innerRef:b,isPermalinkedComment:d,loggedIn:u,onDeleteCommentClick:q,onHidePermalinkReply:e,onLikeCountClick:v,onLikeModalClose:w,parentComment:f,permalinkedReplyAnimating:h,permalinkedReplyId:j,permalinkedReplyNodeRef:k,postId:s,postOwnerId:x,reducedAvatarMargin:y,replyPagerNodeRef:a,showCommentOptionsInline:g,showRemoveIcon:t})};e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$2=i.createRef(),e.$3=i.createRef(),e.$4=i.createRef(),e.$5=[],e.state={isAutoscrollingCommentPermalink:!1,commentPermalinkAnimEnabled:!1,replyPermalinkLastHideTime:null},e.$13=function(a){a=e.props;var b=a.addLoadCount,f=a.analyticsContext,g=a.code,h=a.hasRankedComments,i=a.id,j=a.loadMore,k=a.loggedIn,l=a.mediaType,m=a.numTimesLoadComment,n=a.onClickCommentLoaded;a=a.ownerId;!k&&c("qex")._("1908")===!0&&m>=c("Polarisnullthrows")(c("qex")._("1909"))&&!c("gkx")("4815")?n(g):(j(i,h,g),d("PolarisInteractionsLogger").logInteractionAction({containerModule:f,eventName:"instagram_child_comments_load_more",mediaAuthorId:a,mediaId:i,mediaType:l}));b()},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.$6=function(){return this.$2.current||null};e.$7=function(){return this.$3.current||null};e.$8=function(){return this.$4.current||null};e.$9=function(a,b,c,e){var f=this;this.setState({isAutoscrollingCommentPermalink:!0,commentPermalinkAnimEnabled:!1});d("PolarisBatchDOM").measure(function(){var g,h=n(b,a);if(c){var i=n(c,a),j=c.getBoundingClientRect().height,k=a.getBoundingClientRect().height;k=Math.max(k-j,0);g=Math.max(h,i-k)}else g=h;d("PolarisBatchDOM").mutate(function(){a.scrollTop=g;var b=function(){f.setState({isAutoscrollingCommentPermalink:!1,commentPermalinkAnimEnabled:!0})};e?d("PolarisPageTimings").onPageTimingsAvailable(function(){b()}):b()})})};e.componentDidMount=function(){var a=this.$1;if(!a)return;var b=this.$6();if(b)this.$9(a,b,this.$7(),!0);else if(!this.props.hasRankedComments){if(d("PolarisUA").isDesktop())return;a.scrollTop=a.scrollHeight}};e.componentDidUpdate=function(a,b,c){var d=this.$1;if(!d)return;var e=this.$6();if(e)if(this.state.isAutoscrollingCommentPermalink)return;else if(this.props.permalinkedCommentId!==a.permalinkedCommentId||this.props.permalinkedReplyId!==a.permalinkedReplyId||this.props.permalinkedComment!==a.permalinkedComment){this.$9(d,e,this.$7(),!1);return}this.$10(a,b,c,d,e)};e.$10=function(a,b,c,e,f){var g=this,h=a.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight;c=c||{};var i=c.newCommentCachedOffset,j=a.id===this.props.id&&a.permalinkedCommentId===this.props.permalinkedCommentId&&a.permalinkedReplyId===this.props.permalinkedReplyId&&b.replyPermalinkLastHideTime!==this.state.replyPermalinkLastHideTime,k=this.$8();h&&!a.commentWasReply&&(this.$5[0]&&this.$5[0].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}));d("PolarisBatchDOM").measure(function(){var b=null;h&&!a.commentWasReply&&!g.props.hasRankedComments?b=e.scrollHeight:i!=null?b=e.scrollHeight-i:j&&f&&k&&(b=g.$11(e,f,k));d("PolarisBatchDOM").mutate(function(){b!=null&&(e.scrollTop=b)})})};e.$11=function(a,b,c){c=n(c,a);b=n(b,a);var d=6;c=Math.max(c-d,b);return a.scrollTop>c?c:null};e.getSnapshotBeforeUpdate=function(a,b){b=a.comments;var c=this.props.comments,d=this.$1;return d&&a.id===this.props.id&&c.count()>b.count()&&!this.props.hasRankedComments?{newCommentCachedOffset:d.scrollHeight-d.scrollTop}:null};e.$12=function(){this.setState({replyPermalinkLastHideTime:new Date().valueOf()})};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.captionAndTitle,g=b.captionCreatedAt,h=b.captionIsEdited,n=b.className,p=b.code,q=b.comments,r=b.commentsDisabled,s=b.commentsHasNextPage,t=b.customPaddingStyle,u=b.disableScroll,v=b.hasRankedComments,w=b.hideUserAvatar,x=b.id,y=b.initialCommentsLoading,z=b.isOwnerVerified,A=b.loggedIn,B=b.mediaType,C=b.ownerId,D=b.permalinkedComment,E=b.permalinkedReplyId,F=b.postedAt,G=b.reducedAvatarMargin,H=b.showCommentOptionsInline,I=b.showIGTVCaption;b=b.showPagerBelowComments;s=r!==!0&&Boolean(s);y=y&&q.size===0;if((f==null||f==="")&&q.count()===0&&!s&&!y)if(d("PolarisUA").isDesktop()&&c("qex")._("328"))return i.jsx("div",{className:n,children:i.jsx(c("PolarisNoCommentsPlaceholder"),{})});else return i.jsx("div",{className:n});var J=null,K=null;!y&&r!=null&&(J=D?i.jsx("div",{className:"_a9z3"+(this.state.commentPermalinkAnimEnabled&&!E?" _a9yl":""),ref:this.$2,children:i.jsx(o,{isPermalinkedComment:!0,onHidePermalinkReply:function(){return a.$12()},parentComment:D,parentProps:this.props,parentState:this.state,permalinkedReplyId:E,permalinkedReplyNodeRef:this.$3,replyPagerNodeRef:this.$4})}):null,K=q.map(function(b,c){return D&&b.id===D.id?null:i.jsx(o,{innerRef:function(b){return a.$5[c]=b},parentComment:b,parentProps:a.props,parentState:a.state},c)}).filter(function(a){return!!a}));r=null;f!=null&&f!==""&&(r=i.jsx(c("PolarisPostComment"),{analyticsContext:e,captionCreatedAt:g,className:(d("PolarisUA").isMobile()?"_a9z4":"")+" _a9z5",commentOwnerId:C,customPaddingStyle:t,hideUserAvatar:!!w,isAuthorVerified:!!z,isCaption:!0,isEdited:!!h,isRestrictedPending:!1,loggedIn:A,mediaType:B,postedAt:c("Polarisnullthrows")(F),postId:x,postOwnerId:C,reducedAvatarMargin:G,showCommentOptionsInline:H,showIGTVCaption:I,showRemoveIcon:!1,showRichComment:!0,text:f,variant:d("PolarisPostVariants").VARIANTS.flexible},"captionAndTitle"));E=function(a){a=a.index;return K==null?null:(a=K.get(a))!=null?a:null};q=s&&this.renderLoadMoreCommentsLink(J!=null);var L=d("PolarisLinkBuilder").buildMediaCommentsLink(c("Polarisnullthrows")(p),d("PolarisUA").isMobile());g=d("PolarisUA").isDesktop()&&A&&d("PolarispostModalHelpers").showCommentInfiniteScroll();w=v||b===!0||g;return i.jsx("div",{className:n,children:i.jsxs("ul",{className:"_a9z6"+(u?" _a9z7":"")+(J!==null?" _a9z8":"")+(r===null?" _a9z9":"")+(!q||w?" _a9za":"")+(t==="compact"?" _a9zb":""),ref:function(b){return a.$1=b},children:[r,J,y?i.jsx(c("PolarisIGCoreBox"),{direction:"row",justifyContent:"center",children:i.jsx(c("PolarisIGCoreSpinner"),{})}):null,g&&K!=null?i.jsx(c("PolarisGenericVirtualFeed"),{allowSampledScrollLogging:!1,analyticsContext:e,enablePrefetch:!1,enablePriorityFetching:!1,hasNextPage:(z=this.props.commentsHasNextPage)!=null?z:!1,initialRenderCount:j,isFetching:this.props.commentsIsFetching,items:K,nextPageThreshold:k,onNextPage:function(){a.$13(L)},overscanCount:l,prefetchNextPageThreshold:m,renderFeedItem:E,sizeCache:new(c("PolarisSizeCache"))({estimatedSize:80}),visibleCount:K.size}):i.jsxs(i.Fragment,{children:[!w&&q,!d("PolarisConfig").isNetzDGEligible()&&K,w&&q]})]})})};e.renderLoadMoreCommentsLink=function(a){var b=this.props,e=b.code,f=b.commentsIsFetching,g=b.hasRankedComments,h=b.loggedIn;b=b.onLoggedOutIntentClickLoginModal;e=d("PolarisLinkBuilder").buildMediaCommentsLink(c("Polarisnullthrows")(e),d("PolarisUA").isMobile());var j;g?(g=0,j=0):a?(g=2,j=2):(g=0,j=4);return i.jsx("li",{children:i.jsx(c("PolarisThreadedCommentsLoadMoreButton"),{commentsIsFetching:f,handleLoadMoreCommentsClick:this.$13,loggedIn:h,marginBottom:j,marginTop:g,onLoggedOutIntentClickLoginModal:b,url:e})})};return b}(i.PureComponent);function a(a,b){var c=b.id,e=b.ownerId;b=b.permalinkedCommentId;var f=d("PolarisThreadedCommentSelectors").getThreadedCommentsLoading(a,c),g=d("PolarisThreadedCommentSelectors").selectVisibleParentCommentsForPostId(a,c),h=a.threadedComments.parentByPostId.get(c,d("PolariscommentReducer").EMPTY_POST_COMMENTS_STATE),i=h.count;h=h.pagination;c=a.pendingComments.get(c,d("PolarisPendingCommentState").EMPTY_PENDING_COMMENT);var j=null;!f&&b!=null&&b!==""&&(j=a.comments.byId.get(b));return{commentWasReply:c.repliedToCommentId!=null,commentSaveIsInFlight:c.committing,comments:g,commentsHasNextPage:d("PolarisPaginationUtils").hasNextPage(h),commentsIsFetching:d("PolarisPaginationUtils").isFetching(h),commentsTotalCount:i!=null?i:0,isOwnerVerified:d("PolarisuserSelectors").getUserById(a,e).isVerified,initialCommentsLoading:f,numTimesLoadComment:a.threadedComments.numTimesLoadComment,permalinkedComment:j}}function b(a){return{addLoadCount:function(){a(d("PolarisThreadedCommentActions").onIncreaseCommentLoadCount())},loadMore:function(b,c,e){d("PolarisQEHelper").postUsesNativeEndpoint()?a(d("PolarisThreadedCommentActions").requestNextParentCommentPageV2(b,c,e)):a(d("PolarisThreadedCommentActions").requestNextParentCommentPage(b,c,e))},onClickCommentLoaded:function(b){b=d("PolarisLinkBuilder").buildMediaLink(b);a(d("PolarisNavigationActions").openLoginModal("content_wall",b,null,null,!0,b))},onLoggedOutIntentClickLoginModal:function(b,c){a(d("PolarisNavigationActions").openLoginModal("feature_wall",b,c,null,!0,b))}}}f=d("react-redux-wwwig").connect(a,b)(e);g["default"]=f}),98);
__d("PolarisMobileComments",["cx","PolarisDeleteCommentModal","PolarisGenericStrings","PolarisIGCoreBox","PolarisIGCoreDivider","PolarisIGCoreText","PolarisInteractionsLogger","PolarisPostCommentInput","PolarisThreadedComments","PolarisgetPostFromGraphMediaInterface","Polarisnullthrows","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={commentToDeleteId:null,isDeletingComments:!1,showDeleteCommentModal:!1},c.$2=function(a){c.setState({commentToDeleteId:a,showDeleteCommentModal:!0})},c.$3=function(){c.setState({commentToDeleteId:null,showDeleteCommentModal:!1})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$4=function(){var a=this.props.post,b=a.caption;a=a.title;return[a,b].filter(Boolean).join("\n\n")};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.owner.id,g=b.post,h=g.captionIsEdited,j=g.code,k=g.commentingDisabledForViewer,l=g.commentsDisabled,m=g.hasRankedComments,n=g.id,o=g.isVideo;g=g.postedAt;b=b.viewer;return i.jsxs(i.Fragment,{children:[this.props.post.commentingDisabledForViewer!==!0&&i.jsx(c("PolarisPostCommentInput"),{analyticsContext:e,canViewerProvideFeedback:!0,hasPostButton:!0,hasRichCommentInput:!0,id:n,isLoggedIn:!!b,isVideo:o,ownerId:f,ref:function(b){return a.$1=b},viewerProfilePicture:b==null?void 0:b.profilePictureUrl,willFocusAndScrollToInput:this.props.willFocusInput}),i.jsx(c("PolarisThreadedComments"),{analyticsContext:e,captionAndTitle:this.$4(),captionIsEdited:h,className:"_ab5a",code:c("Polarisnullthrows")(j),commentingDisabledForViewer:k,commentsDisabled:l,handleDeleteCommentClick:this.$2,hasRankedComments:m,id:n,isDeletingComments:this.state.isDeletingComments,loggedIn:(b==null?void 0:b.id)!=null,mediaType:d("PolarisInteractionsLogger").getMediaTypeFromPost(this.props.post),ownerId:f,permalinkedCommentId:this.props.permalinkedCommentId,permalinkedReplyId:this.props.permalinkedReplyId,postedAt:c("Polarisnullthrows")(g),showIGTVCaption:d("PolarisgetPostFromGraphMediaInterface").isIGTVPost(this.props.post)}),this.state.showDeleteCommentModal&&i.jsx(c("PolarisDeleteCommentModal"),{analyticsContext:e,commentId:c("Polarisnullthrows")(this.state.commentToDeleteId),onClose:this.$3,postId:n}),this.props.post.commentingDisabledForViewer===!0&&i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisIGCoreDivider"),{}),i.jsx(c("PolarisIGCoreBox"),{margin:"auto",padding:7,width:"100%",children:i.jsx(c("PolarisIGCoreText"),{color:"ig-tertiary-text",textAlign:"center",children:d("PolarisGenericStrings").COMMENTING_LIMITED})})]})]})};return b}(i.PureComponent);a.defaultProps={willFocusInput:!1};b=a;g["default"]=b}),98);
__d("PolarisShareButton",["fbt","PolarisIGCoreDirectPanoOutlineIcon","PolarisIGCoreSVGIconButton","PolarisIGCoreSharePanoOutlineIcon","PolarisLinkBuilder","PolarisLogger","PolarisShareHelpers","PolarisShareSheet","PolarishasDirect","gkx","react"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j=d("react").useState,k=h._(/*FBT_CALL*/"Share Post"/*FBT_CALL*/);function a(a){var b=a.analyticsContext,e=a.className,f=a.code,g=a.isIGTVPost,h=a.isSidecar,l=a.isVideo,m=a.onLoadShareIds,n=a.onSharingWithFrictionClick,o=a.owner,p=a.postId,q=a.shareEnabled;a=a.shareIds;var r=j(!1),s=r[0],t=r[1],u=l?"video":h?"sidecar":"photo",v=d("PolarisShareHelpers").getShareDescription(o.username||"",u),w=g?d("PolarisLinkBuilder").buildFelixMediaLink(f):d("PolarisLinkBuilder").buildMediaLink(f);r=function(){if(n){var a=n(x);if(a)return}x()};var x=function(){d("PolarisShareHelpers").hasNativeShare()&&!d("PolarishasDirect").hasDirect()?y():(c("gkx")("4908")||d("PolarisLogger").logAction_DEPRECATED("shareClick",{source:b,type:u}),m(p),t(!0))};l=function(){t(!1)};var y=function(){c("gkx")("4908")||d("PolarisLogger").logAction_DEPRECATED("nativeShareClick",{source:b,type:u}),t(!1),d("PolarisShareHelpers").shareWithNative(v,w,"ig_web_button_native_share")};return i.jsxs("span",{className:e,children:[i.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:r,children:d("PolarishasDirect").hasDirect()?i.jsx(c("PolarisIGCoreDirectPanoOutlineIcon"),{alt:k,color:"ig-primary-text",size:24}):i.jsx(c("PolarisIGCoreSharePanoOutlineIcon"),{alt:k,color:"ig-primary-text",size:24})}),s&&i.jsx(c("PolarisShareSheet"),{analyticsContext:b,description:v,entityID:p,entityType:u,onClose:l,onNativeShare:y,shareEnabled:q,shareIds:a,url:w,utmSource:"ig_web_button_share_sheet"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostShareButton",["PolarisPostActions","PolarisShareButton","PolarisgetPostFromGraphMediaInterface","Polarisnullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){var h=d("react");a=function(a){var b=a.analyticsContext,e=a.onLoadShareIds,f=a.owner;a=a.post;return h.jsx(c("PolarisShareButton"),{analyticsContext:b,code:c("Polarisnullthrows")(a.code),isIGTVPost:d("PolarisgetPostFromGraphMediaInterface").isIGTVPost(a),isSidecar:(a.sidecarChildren||[]).length>0,isVideo:!!a.isVideo,onLoadShareIds:e,owner:f,postId:a.id,shareEnabled:a.viewerCanReshare===!0&&f.isPrivate!==!0,shareIds:a.shareIds})};b={onLoadShareIds:d("PolarisPostActions").loadPostShareIds};e=d("react-redux-wwwig").connect(null,b)(a);g["default"]=e}),98);
__d("PolarisMobileAllCommentsPage",["fbt","IGRouter","PolarisGenericMobileHeader","PolarisHideNativeAppBanner","PolarisLinkBuilder","PolarisMobileComments","PolarisNavBackButton","PolarisPageIdentifierConstants","PolarisPageMetadata","PolarisPostShareButton","PolarisSizing","PolarisgetTitleForPost","PolarishasCommentFromFeed","PolarishasDirect","Polarisnullthrows","PolarispostSelectors","PolarisuseMQTT","PolarisuserSelectors","PolariswithLifecycleLogging","Shell","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j=d("react").useEffect,k=h._(/*FBT_CALL*/"Comments"/*FBT_CALL*/);function a(a){var b=a.ownerId,e=a.permalinkedCommentId,f=a.permalinkedReplyId,g=a.postId;j(function(){d("PolarisHideNativeAppBanner").hideNativeAppBanner_HACK()},[]);a=c("PolarisuseMQTT")();var h=d("react-redux-wwwig").useSelector(function(a){return d("PolarisuserSelectors").maybeGetUserById(a,b)}),l=d("react-redux-wwwig").useSelector(function(a){return d("PolarispostSelectors").getPostOrNullById(a,g)}),m=d("react-redux-wwwig").useSelector(function(a){return d("PolarisuserSelectors").getViewer(a)});if(h==null||l==null)return null;var n=h.isUnpublished!==!0?d("PolarisLinkBuilder").buildMediaLink(c("Polarisnullthrows")(l.code)):null,o=[i.jsx(c("PolarisNavBackButton"),{analyticsContext:c("PolarisPageIdentifierConstants").mobileAllCommentsPage},"back")];a=d("PolarishasDirect").hasDirect()&&a!=null;var p=c("PolarishasCommentFromFeed")();return i.jsxs(c("Shell"),{androidAppLink:n,iOSAppLink:"media?id="+l.id,maxWidth:d("PolarisSizing").SITE_WIDTHS.narrow,mobileHeader:i.jsx(c("PolarisGenericMobileHeader"),{leftActions:o,rightActions:a&&i.jsx(c("PolarisPostShareButton"),{analyticsContext:c("PolarisPageIdentifierConstants").mobileAllCommentsPage,owner:h,post:l}),title:k}),pageIdentifier:c("PolarisPageIdentifierConstants").mobileAllCommentsPage,children:[i.jsx(c("PolarisPageMetadata"),{base:"",id:c("PolarisPageIdentifierConstants").mobileAllCommentsPage,title:c("PolarisgetTitleForPost")(l,h)}),i.jsx(c("PolarisMobileComments"),{analyticsContext:c("PolarisPageIdentifierConstants").mobileAllCommentsPage,owner:h,permalinkedCommentId:e,permalinkedReplyId:f,post:l,viewer:m,willFocusInput:p})]})}a.displayName=a.name+" [from "+f.id+"]";b=d("IGRouter").withIGRouter(d("PolariswithLifecycleLogging").withConnectedLifecycleLogging("MobileAllCommentsPage")(a));g["default"]=b}),98);
__d("PolarisMobileAllCommentsRoot.react",["PolarisMobileAllCommentsPage","PolarisPostPageSetup.react","XIGSupportIGGlobalDefaultsDeprecated.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.props;var b=a.routeParams,d=b.shortcode,e=b.comment_id;b=b.reply_id;a=a.routeProps;var f=a.media_id;a=a.media_owner_id;return a==null||f==null?null:h.jsx(c("XIGSupportIGGlobalDefaultsDeprecated.react"),{children:h.jsx(c("PolarisPostPageSetup.react"),{postId:f,shortcode:d,children:h.jsx(c("PolarisMobileAllCommentsPage"),{ownerId:a,postId:f,permalinkedCommentId:e,permalinkedReplyId:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);